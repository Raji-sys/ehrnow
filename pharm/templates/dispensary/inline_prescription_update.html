<tr hx-target="this" class="text-xs bg-amber-100 hover:bg-amber-200 transition-colors duration-300">
    <td class="p-3 whitespace-nowrap">{{forloop.counter}}</td>
    <td class="p-3 whitespace-nowrap">{{ object.patient.file_no|default_if_none:'' }}</td>
    <td class="p-3 whitespace-nowrap">
        <a href="{{object.patient.get_absolute_url}}" class="text-blue-500 hover:text-blue-700">
            {{ object.patient|default_if_none:'' }}
        </a>
    </td>
    <td class="p-3 whitespace-nowrap">{{ object.drug|default_if_none:'' }}</td>
    <td class="p-3 whitespace-nowrap">{{ object.dose|default_if_none:'' }}</td>
    <td class="p-3 whitespace-nowrap">
        {% if object.payment %}
            {{ object.payment.price|default_if_none:'' }}
        {% else %}
            Not priced
        {% endif %}
    </td>
    <td class="p-3 whitespace-nowrap">{{ object.prescribed_date|default_if_none:'' }}</td>
    <td colspan="2" class="p-3">
        <form method="post" hx-post="{% url 'pharm:update_prescription' object.id %}?inline=true" 
              hx-swap="outerHTML" 
              class="flex space-x-4 items-center">
            {% csrf_token %}
            {% for field in form %}
            <div class="flex flex-col">
                <label for="{{field.id_for_label}}" class="text-xs">{{ field.label }}</label>
                {{ field }}
            </div>
            {% endfor %}
            <button type="submit" class="bg-green-500 text-white p-2 rounded self-end">
                Update
            </button>
        </form>
    </td>
</tr>